{
	"info": {
		"_postman_id": "e0ebe617-709b-41c3-9785-ee5e5aa49d0c",
		"name": "Webex Calling Calls API",
		"description": "These tests exercise the /telephonycalls Webex Calling API and validate the results.  They are designed to provide developers who are unfamilar with the Calling API with a set of examples to understand the basic concepts of how to use them.\n\n1) Create an outbound (Click to Dial) Call and verify it is gettable and perform a basic Hold and Resume operation on the call.\n2) Answer an inbound call (UserA calls apiUser), intiatate another call from the same user (apiUser calls UserB) and perform a Consult Transfer (i.e. apiUser transfers the call to connect UserA with UserB)\n3) Answer an inbound call (UserA calls apiUser) and blind transfer (Divert) the call to apiUser's voicemail.\n4) Answer an inbound call, park the call on another destination and retrieve the call back to apiUser.\n5) Get Call History (i.e. missed calls, placed calls and received calls).\n6) Voice Messages (execute the voice messages APIs)\n7) Create an outbound call from User A (Click to Dial) to User B, verify the callId can be obtained, and then once a call is established between the two, Mute Transfer (MuteTransfer) the call from User A to User C.\n8) Create an outbound call from User A (Click to Dial) to User B, verify the callId can be obtained, and then once a call is established between the two Transmit DTMF Digits(TransmitDtmf) **1,234** from User A to User B.\n9) Create an outbound call from User A (Click to Dial) to the Assistant User (please make sure that the user is configured to have the ExecutiveAssistant Service set up), verify the callId can be obtained, and then once a call is established between the two the Executive Assistant User will push the call to the Executive (ExecutiveAssistantCallPush), who will then pick up the call.\n\nBefore running these tests the following environment variables must be set:\n* WEBEX_TOKEN -- an OAuth token for a user.  To get started quickly, developers can copy their temporary token from the [Webex For Developers Gettings Started Guide](https://developer.webex.com/docs/api/getting-started#accounts-and-authentication).\n* WEBEX_TOKEN_USER_B -- An OAuth token for another user, User B.  This token is used within the Mute Transfer & Transmit DTMF tests that perform a call action for User B \"[for B]\".\n* WEBEX_TOKEN_USER_C -- An OAuth token for another user, User C.  This token is used within the Mute Transfer tests that perform a call action for User C \"[for C]\".\n* WEBEX_TOKEN_ASSISTANT -- An OAuth token for another user, the Assistant.  The user must have the ExecutiveAssistant Service configured with an assigned executive.  This token is used within the Executive Assistant Call Push tests that perform a call action for the Assistant \"[for Assistant]\".\n* WEBEX_TOKEN_EXECUTIVE -- An OAuth token for another user, the Executive.  The user must have the Executive Service configured with an assigned assistant.  This token is used within the Executive Assistant Call Push tests that perform a call action for the Executive \"[for Executive]\".\n* WEBEX_API_URL -- the URL of the meetings API under test, generally the default value of \"https://webexapis.com/v1/\" does not need to be changed\n* DESTINATION -- The destination to be dialed. Destination can be extensions, PSTN numbers, FAC codes or SIP URI. The destination can be digits or a URI. Some examples for destination include: 1234, 2223334444, +12223334444, *73, tel:+12223334444, user@company.domain, sip:user@company.domain\n* TRANSFER_DESTINATION -- The destination to be dialed. This is used to make a second call from the api user in order to transfer the call.\n* EXEC_DESTINATION -- The destination of the Executive to be dialed. This will cause the Assistant to ring and ensure the rest of the scenario proceeds.\n* PARK_DESTINATION  -- The destination to park the call.\n* VOICE_MESSAGE_ID - the voice message Id.  Used by the Voice Message APIs that require a message Id to perform the action.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Basic Call With Hold and Resume",
			"item": [
				{
					"name": "Dial (Click to Call)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"var theCall = pm.response.json();",
									"pm.collectionVariables.set(\"_callId\", theCall.callId);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"destination\": \"{{DESTINATION}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/dial",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"dial"
							]
						}
					},
					"response": []
				},
				{
					"name": "Answer a Call",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"callId\":\"{{_callId}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/answer",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"answer"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Call Status",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Hold",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"callId\":\"{{_callId}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/hold",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"hold"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Call Status",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"callId\":\"{{callId}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Resume",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"callId\":\"{{_callId}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/resume",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"resume"
							]
						}
					},
					"response": []
				},
				{
					"name": "End a Call",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"callId\":\"{{_callId}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/hangup",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"hangup"
							]
						}
					},
					"response": []
				},
				{
					"name": "Cleanup",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"function cleanup() {",
									"    const clean = _.keys(pm.collectionVariables.toObject());",
									"    _.each(clean, (arrItem) => {",
									"        //console.log(`Evalauating environment varable:${arrItem}`);",
									"        if (arrItem.startsWith(\"_\")) {",
									"            //console.log(`Will remove temporary env var:${arrItem}`);",
									"            pm.collectionVariables.unset(arrItem);",
									"        }",
									"    });",
									"}",
									"",
									"// Run the cleanup script which deletes all env vars that start with \"_\"",
									"cleanup();"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://postman-echo.com/",
							"protocol": "https",
							"host": [
								"postman-echo",
								"com"
							],
							"path": [
								""
							]
						},
						"description": "This request will run a pre-request script that will delete all the temporary environment variables that have been set."
					},
					"response": []
				}
			]
		},
		{
			"name": "Answer Inbound Call and Transfer",
			"item": [
				{
					"name": "Get Call Status",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"var allCalls = pm.response.json();",
									"if ((allCalls.items) && (allCalls.items.length)) {",
									"    pm.collectionVariables.set(\"_callId\", allCalls.items[0].id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Answer a Call",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"callId\":\"{{_callId}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/answer",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"answer"
							]
						}
					},
					"response": []
				},
				{
					"name": "Dial (Click to Call) 2nd Number",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"var theCall = pm.response.json();",
									"pm.collectionVariables.set(\"_callId2\", theCall.callId);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"destination\": \"{{TRANSFER_DESTINATION}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/dial",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"dial"
							]
						}
					},
					"response": []
				},
				{
					"name": "Answer 2nd Call",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"callId\":\"{{_callId2}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/answer",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"answer"
							]
						}
					},
					"response": []
				},
				{
					"name": "Transfer",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/transfer",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"transfer"
							]
						}
					},
					"response": []
				},
				{
					"name": "Cleanup",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"function cleanup() {",
									"    const clean = _.keys(pm.collectionVariables.toObject());",
									"    _.each(clean, (arrItem) => {",
									"        //console.log(`Evalauating environment varable:${arrItem}`);",
									"        if (arrItem.startsWith(\"_\")) {",
									"            //console.log(`Will remove temporary env var:${arrItem}`);",
									"            pm.collectionVariables.unset(arrItem);",
									"        }",
									"    });",
									"}",
									"",
									"// Run the cleanup script which deletes all env vars that start with \"_\"",
									"cleanup();"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://postman-echo.com/",
							"protocol": "https",
							"host": [
								"postman-echo",
								"com"
							],
							"path": [
								""
							]
						},
						"description": "This request will run a pre-request script that will delete all the temporary environment variables that have been set."
					},
					"response": []
				}
			]
		},
		{
			"name": "Blind Transfer To Voicemail",
			"item": [
				{
					"name": "Get Call Status",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"var allCalls = pm.response.json();",
									"pm.collectionVariables.set(\"_callId\", allCalls.items[0].id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Divert a Call To Voicemail",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"callId\":\"{{_callId}}\",\n\t\"toVoicemail\": true\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/divert",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"divert"
							]
						}
					},
					"response": []
				},
				{
					"name": "Cleanup",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"function cleanup() {",
									"    const clean = _.keys(pm.collectionVariables.toObject());",
									"    _.each(clean, (arrItem) => {",
									"        //console.log(`Evalauating environment varable:${arrItem}`);",
									"        if (arrItem.startsWith(\"_\")) {",
									"            //console.log(`Will remove temporary env var:${arrItem}`);",
									"            pm.collectionVariables.unset(arrItem);",
									"        }",
									"    });",
									"}",
									"",
									"// Run the cleanup script which deletes all env vars that start with \"_\"",
									"cleanup();"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://postman-echo.com/",
							"protocol": "https",
							"host": [
								"postman-echo",
								"com"
							],
							"path": [
								""
							]
						},
						"description": "This request will run a pre-request script that will delete all the temporary environment variables that have been set."
					},
					"response": []
				}
			]
		},
		{
			"name": "Park and Retrieve a call",
			"item": [
				{
					"name": "Get Call Status",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"var allCalls = pm.response.json();",
									"pm.collectionVariables.set(\"_callId\", allCalls.items[0].id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Answer a Call",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"callId\":\"{{_callId}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/answer",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"answer"
							]
						}
					},
					"response": []
				},
				{
					"name": "Park the Call",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"var theCall = pm.response.json();",
									"pm.collectionVariables.set(\"_parkedAgainst\", theCall.parkedAgainst.number);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"callId\": \"{{_callId}}\",\n  \"destination\": \"{{PARK_DESTINATION}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/park",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"park"
							]
						}
					},
					"response": []
				},
				{
					"name": "Retrieve the Call",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"var theCall = pm.response.json();",
									"pm.collectionVariables.set(\"_retrievedCallId\", theCall.callId);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"destination\": \"{{_parkedAgainst}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/retrieve",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"retrieve"
							]
						}
					},
					"response": []
				},
				{
					"name": "Answer a Call",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"callId\": \"{{_retrievedCallId}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/answer",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"answer"
							]
						}
					},
					"response": []
				},
				{
					"name": "Cleanup",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"function cleanup() {",
									"    const clean = _.keys(pm.collectionVariables.toObject());",
									"    _.each(clean, (arrItem) => {",
									"        //console.log(`Evaluating environment varable:${arrItem}`);",
									"        if (arrItem.startsWith(\"_\")) {",
									"            //console.log(`Will remove temporary env var:${arrItem}`);",
									"            pm.collectionVariables.unset(arrItem);",
									"        }",
									"    });",
									"}",
									"",
									"// Run the cleanup script which deletes all env vars that start with \"_\"",
									"cleanup();"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://postman-echo.com/",
							"protocol": "https",
							"host": [
								"postman-echo",
								"com"
							],
							"path": [
								""
							]
						},
						"description": "This request will run a pre-request script that will delete all the temporary environment variables that have been set."
					},
					"response": []
				}
			]
		},
		{
			"name": "Call History",
			"item": [
				{
					"name": "Get Call History - All Calls",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/history",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"history"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Call History - Placed Calls",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/history?type=placed",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"history"
							],
							"query": [
								{
									"key": "type",
									"value": "placed"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Call History - Received Calls",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/history?type=received",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"history"
							],
							"query": [
								{
									"key": "type",
									"value": "received"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Call History - Missed Calls",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/history?type=missed",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"history"
							],
							"query": [
								{
									"key": "type",
									"value": "missed"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Voice Messages",
			"item": [
				{
					"name": "Get Message Summary",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/voiceMessages/summary",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"voiceMessages",
								"summary"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get List of Messages",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/voiceMessages",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"voiceMessages"
							]
						}
					},
					"response": []
				},
				{
					"name": "Mark a Message as Read",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"messageId\":\"{{VOICE_MESSAGE_ID}}\" \n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/voiceMessages/markAsRead",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"voiceMessages",
								"markAsRead"
							]
						}
					},
					"response": []
				},
				{
					"name": "Mark a Message as Unread",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"messageId\":\"{{VOICE_MESSAGE_ID}}\" \n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/voiceMessages/markAsUnread",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"voiceMessages",
								"markAsUnread"
							]
						}
					},
					"response": []
				},
				{
					"name": "Mark All Messages as Read",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/voiceMessages/markAsRead",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"voiceMessages",
								"markAsRead"
							]
						}
					},
					"response": []
				},
				{
					"name": "Mark All Messages as Unread",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/voiceMessages/markAsUnread",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"voiceMessages",
								"markAsUnread"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Message",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/voiceMessages/{{VOICE_MESSAGE_ID}}",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"voiceMessages",
								"{{VOICE_MESSAGE_ID}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Mute Transfer",
			"item": [
				{
					"name": "Dial (Click to Call) [A to B]",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var responseBody = JSON.parse(responseBody);",
									"",
									"pm.environment.set(\"callIdA1\", responseBody.callId);",
									"",
									"console.log(pm.variables.get(\"callIdA1\"));",
									"",
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"setTimeout(function(){}, [1000]);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{WEBEX_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"destination\": {{DESTINATION}}\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/dial",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"dial"
							]
						},
						"description": "Initiate a call to A.  When answered by A, initiate a call to B."
					},
					"response": []
				},
				{
					"name": "Answer a Call [for A]",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"",
									"setTimeout(function(){}, [2000]);",
									"",
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{WEBEX_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"callId\":\"{{callIdA1}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/answer",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"answer"
							]
						},
						"description": "Basic Call through CPAPI."
					},
					"response": []
				},
				{
					"name": "List Calls [for B]",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData;",
									"try {",
									"    responseBody = JSON.parse(responseBody);",
									"} catch (err) {",
									"    console.log(err);",
									"}",
									"",
									"var callId;",
									"try {",
									"    callId = responseBody.items[0].id;",
									"} catch (err) {",
									"    console.log(err);",
									"}",
									"",
									"pm.environment.set(\"callIdB1\", responseBody.items[0].id);",
									"",
									"console.log(pm.variables.get(\"callIdB1\"));",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{WEBEX_TOKEN_USER_B}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls"
							]
						},
						"description": "Get current active calls for B."
					},
					"response": []
				},
				{
					"name": "Answer a Call [for B]",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"",
									"setTimeout(function(){}, [2000]);",
									"",
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{WEBEX_TOKEN_USER_B}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"callId\": \"{{callIdB1}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/answer",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"answer"
							]
						},
						"description": "Answer a call currently terminating to User B."
					},
					"response": []
				},
				{
					"name": "Mute Transfer [from A to C]",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"",
									"setTimeout(function(){}, [2000]);",
									"",
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(201);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{WEBEX_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"callId1\": \"{{callIdA1}}\",\n    \"destination\": {{TRANSFER_DESTINATION}}\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/transfer",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"transfer"
							]
						},
						"description": "Basic Call through CPAPI."
					},
					"response": []
				},
				{
					"name": "List Calls [for C, after Transfer]",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData;",
									"try {",
									"    responseBody = JSON.parse(responseBody);",
									"} catch (err) {",
									"    console.log(err);",
									"}",
									"",
									"pm.environment.set(\"callIdC1\", responseBody.items[0].id);",
									"",
									"console.log(pm.variables.get(\"callIdC1\"));",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"setTimeout(function(){}, [1000]);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{WEBEX_TOKEN_USER_C}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls"
							]
						},
						"description": "Get current active calls for C."
					},
					"response": []
				},
				{
					"name": "Answer a Call [for C]",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"",
									"setTimeout(function(){}, [2000]);",
									"",
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{WEBEX_TOKEN_USER_C}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"callId\": \"{{callIdC1}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/answer",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"answer"
							]
						},
						"description": "Answer a call currently terminating to User C."
					},
					"response": []
				},
				{
					"name": "List Calls [for B, after Transfer]",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData;",
									"try {",
									"    responseBody = JSON.parse(responseBody);",
									"} catch (err) {",
									"    console.log(err);",
									"}",
									"",
									"var callId;",
									"try {",
									"    callId = responseBody.items[0].id;",
									"} catch (err) {",
									"    console.log(err);",
									"}",
									"",
									"pm.environment.set(\"callIdB1\", responseBody.items[0].id);",
									"",
									"console.log(pm.variables.get(\"callIdB1\"));",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{WEBEX_TOKEN_USER_B}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls"
							]
						},
						"description": "Get current active calls for B."
					},
					"response": []
				},
				{
					"name": "List Calls [for C, after Transfer]",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData;",
									"try {",
									"    responseBody = JSON.parse(responseBody);",
									"} catch (err) {",
									"    console.log(err);",
									"}",
									"",
									"var callId;",
									"try {",
									"    callId = responseBody.items[0].id;",
									"} catch (err) {",
									"    console.log(err);",
									"}",
									"",
									"pm.environment.set(\"callIdB1\", responseBody.items[0].id);",
									"",
									"console.log(pm.variables.get(\"callIdB1\"));",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{WEBEX_TOKEN_USER_C}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls"
							]
						},
						"description": "Get current active calls for C."
					},
					"response": []
				},
				{
					"name": "End a Call [for C]",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});",
									"",
									"setTimeout(function(){}, [2000]);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{WEBEX_TOKEN_USER_C}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"callId\": \"{{callIdC1}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/hangup",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"hangup"
							]
						},
						"description": "Party A hangs up a call."
					},
					"response": []
				},
				{
					"name": "Get Call History [for A]",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{WEBEX_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/history",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"history"
							]
						},
						"description": "Party A's call history."
					},
					"response": []
				},
				{
					"name": "Get Call History [for B]",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{WEBEX_TOKEN_USER_B}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/history",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"history"
							]
						},
						"description": "Party B's call history."
					},
					"response": []
				},
				{
					"name": "Get Call History [for C]",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{WEBEX_TOKEN_USER_C}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/history",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"history"
							]
						},
						"description": "Party C's call history."
					},
					"response": []
				},
				{
					"name": "Cleanup",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"function cleanup() {",
									"    const clean = _.keys(pm.collectionVariables.toObject());",
									"    _.each(clean, (arrItem) => {",
									"        //console.log(`Evaluating environment varable:${arrItem}`);",
									"        if (arrItem.startsWith(\"_\")) {",
									"            //console.log(`Will remove temporary env var:${arrItem}`);",
									"            pm.collectionVariables.unset(arrItem);",
									"        }",
									"    });",
									"}",
									"",
									"// Run the cleanup script which deletes all env vars that start with \"_\"",
									"cleanup();"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://postman-echo.com/",
							"protocol": "https",
							"host": [
								"postman-echo",
								"com"
							],
							"path": [
								""
							]
						},
						"description": "This request will run a pre-request script that will delete all the temporary environment variables that have been set."
					},
					"response": []
				}
			],
			"description": "Basic Call test for CXAPI.",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Transmit DTMF",
			"item": [
				{
					"name": "Dial (Click to Call) [A to B]",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var responseBody = JSON.parse(responseBody);",
									"",
									"pm.environment.set(\"callIdA1\", responseBody.callId);",
									"",
									"console.log(pm.variables.get(\"callIdA1\"));",
									"",
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"setTimeout(function(){}, [1000]);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{WEBEX_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"destination\": {{DESTINATION}}\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/dial",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"dial"
							]
						},
						"description": "Initiate a call to A.  When answered by A, initiate a call to B."
					},
					"response": []
				},
				{
					"name": "Answer a Call [for A]",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"",
									"setTimeout(function(){}, [2000]);",
									"",
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{WEBEX_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"callId\": \"{{callIdA1}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/answer",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"answer"
							]
						},
						"description": "Basic Call through CPAPI."
					},
					"response": []
				},
				{
					"name": "List Calls [for B]",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData;",
									"try {",
									"    responseBody = JSON.parse(responseBody);",
									"} catch (err) {",
									"    console.log(err);",
									"}",
									"",
									"var callId;",
									"try {",
									"    callId = responseBody.items[0].id;",
									"} catch (err) {",
									"    console.log(err);",
									"}",
									"",
									"pm.environment.set(\"callIdB1\", responseBody.items[0].id);",
									"",
									"console.log(pm.variables.get(\"callIdB1\"));",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{WEBEX_TOKEN_2}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls"
							]
						},
						"description": "Get current active calls for B."
					},
					"response": []
				},
				{
					"name": "Answer a Call [for B]",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"",
									"setTimeout(function(){}, [2000]);",
									"",
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{WEBEX_TOKEN_2}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"callId\": \"{{callIdB1}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/answer",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"answer"
							]
						},
						"description": "Answer a call currently terminating to User B."
					},
					"response": []
				},
				{
					"name": "Transmit DTMF [A to B]",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"setTimeout(function(){}, [2000]);",
									"",
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{WEBEX_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"callId\": \"{{callIdA1}}\",\n    \"dtmf\": \"1,234\"\n}"
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/transmitDtmf",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"transmitDtmf"
							]
						}
					},
					"response": []
				},
				{
					"name": "End Call [for B]",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});",
									"",
									"setTimeout(function(){}, [2000]);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{WEBEX_TOKEN_2}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"callId\": \"{{callIdB1}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/hangup",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"hangup"
							]
						},
						"description": "Party A hangs up a call."
					},
					"response": []
				},
				{
					"name": "Cleanup",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"function cleanup() {",
									"    const clean = _.keys(pm.collectionVariables.toObject());",
									"    _.each(clean, (arrItem) => {",
									"        //console.log(`Evaluating environment varable:${arrItem}`);",
									"        if (arrItem.startsWith(\"_\")) {",
									"            //console.log(`Will remove temporary env var:${arrItem}`);",
									"            pm.collectionVariables.unset(arrItem);",
									"        }",
									"    });",
									"}",
									"",
									"// Run the cleanup script which deletes all env vars that start with \"_\"",
									"cleanup();"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://postman-echo.com/",
							"protocol": "https",
							"host": [
								"postman-echo",
								"com"
							],
							"path": [
								""
							]
						},
						"description": "This request will run a pre-request script that will delete all the temporary environment variables that have been set."
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Executive Assistant Call Push",
			"item": [
				{
					"name": "Dial (Click to Call) [A to Executive]",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var responseBody = JSON.parse(responseBody);",
									"",
									"pm.environment.set(\"callIdA1\", responseBody.callId);",
									"",
									"console.log(pm.variables.get(\"callIdA1\"));",
									"",
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"setTimeout(function(){}, [1000]);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{WEBEX_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"destination\": {{EXEC_DESTINATION}}\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/dial",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"dial"
							]
						},
						"description": "Initiate a call to A.  When answered by A, initiate a call to B."
					},
					"response": []
				},
				{
					"name": "Answer a Call [for A]",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"",
									"setTimeout(function(){}, [2000]);",
									"",
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{WEBEX_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"callId\": \"{{callIdA1}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/answer",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"answer"
							]
						},
						"description": "Basic Call through CPAPI."
					},
					"response": []
				},
				{
					"name": "List Calls [for Assistant]",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData;",
									"try {",
									"    responseBody = JSON.parse(responseBody);",
									"} catch (err) {",
									"    console.log(err);",
									"}",
									"",
									"var callId;",
									"try {",
									"    callId = responseBody.items[0].id;",
									"} catch (err) {",
									"    console.log(err);",
									"}",
									"",
									"pm.environment.set(\"callIdB1\", responseBody.items[0].id);",
									"",
									"console.log(pm.variables.get(\"callIdB1\"));",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{WEBEX_TOKEN_ASSISTANT}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls"
							]
						},
						"description": "Get current active calls for B."
					},
					"response": []
				},
				{
					"name": "Answer a Call [for Assistant]",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"",
									"setTimeout(function(){}, [2000]);",
									"",
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{WEBEX_TOKEN_ASSISTANT}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"callId\": \"{{callIdB1}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/answer",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"answer"
							]
						},
						"description": "Answer a call currently terminating to User B."
					},
					"response": []
				},
				{
					"name": "Executive Assistant Call Push [from Assistant to Executive]",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"setTimeout(function(){}, [2000]);",
									"",
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{WEBEX_TOKEN_ASSISTANT}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"callId\": \"{{callIdB1}}\"\n}"
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/push",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"push"
							]
						}
					},
					"response": []
				},
				{
					"name": "List Calls [for Executive]",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData;",
									"try {",
									"    responseBody = JSON.parse(responseBody);",
									"} catch (err) {",
									"    console.log(err);",
									"}",
									"",
									"var callId;",
									"try {",
									"    callId = responseBody.items[0].id;",
									"} catch (err) {",
									"    console.log(err);",
									"}",
									"",
									"pm.environment.set(\"callIdB1\", responseBody.items[0].id);",
									"",
									"console.log(pm.variables.get(\"callIdB1\"));",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{WEBEX_TOKEN_EXECUTIVE}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls"
							]
						},
						"description": "Get current active calls for B."
					},
					"response": []
				},
				{
					"name": "Answer a Call [for Executive]",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"",
									"setTimeout(function(){}, [2000]);",
									"",
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{WEBEX_TOKEN_EXECUTIVE}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"callId\": \"{{callIdB1}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/answer",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"answer"
							]
						},
						"description": "Basic Call through CPAPI."
					},
					"response": []
				},
				{
					"name": "End a Call [for Executive]",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});",
									"",
									"setTimeout(function(){}, [2000]);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{WEBEX_TOKEN_EXECUTIVE}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"callId\": \"{{callIdB1}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{WEBEX_API_URL}}telephony/calls/hangup",
							"host": [
								"{{WEBEX_API_URL}}telephony"
							],
							"path": [
								"calls",
								"hangup"
							]
						},
						"description": "Party A hangs up a call."
					},
					"response": []
				},
				{
					"name": "Cleanup",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"function cleanup() {",
									"    const clean = _.keys(pm.collectionVariables.toObject());",
									"    _.each(clean, (arrItem) => {",
									"        //console.log(`Evaluating environment varable:${arrItem}`);",
									"        if (arrItem.startsWith(\"_\")) {",
									"            //console.log(`Will remove temporary env var:${arrItem}`);",
									"            pm.collectionVariables.unset(arrItem);",
									"        }",
									"    });",
									"}",
									"",
									"// Run the cleanup script which deletes all env vars that start with \"_\"",
									"cleanup();"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://postman-echo.com/",
							"protocol": "https",
							"host": [
								"postman-echo",
								"com"
							],
							"path": [
								""
							]
						},
						"description": "This request will run a pre-request script that will delete all the temporary environment variables that have been set."
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{WEBEX_TOKEN}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "WEBEX_TOKEN",
			"value": "Set this to an authorized user's token"
		},
		{
			"key": "WEBEX_TOKEN_USER_B",
			"value": "Set this to an authorized user's token"
		},
		{
			"key": "WEBEX_TOKEN_USER_C",
			"value": "Set this to an authorized user's token"
		},
		{
			"key": "WEBEX_TOKEN_EXECUTIVE",
			"value": "Set this to an authorized user's token set with the Executive Service"
		},
		{
			"key": "WEBEX_TOKEN_ASSISTANT",
			"value": "Set this to an authorized user's token set with the ExecutiveAssistant"
		},
		{
			"key": "WEBEX_API_URL",
			"value": "https://webexapis.com/v1/"
		},
		{
			"key": "DESTINATION",
			"value": "Set this to the number or address to call"
		},
		{
			"key": "TRANSFER_DESTINATION",
			"value": "Set this to the number or address to transfer to"
		},
		{
			"key": "EXEC_DESTINATION",
			"value": "Set this to another number or address to transfer, make sure the user has Executive Service"
		},
		{
			"key": "PARK_DESTINATION",
			"value": "The destination where the call needs to be park and retrieved from"
		},
		{
			"key": "VOICE_MESSAGE_ID",
			"value": "Set this to the voice message Id"
		},
		{
			"key": "_callId",
			"value": ""
		},
		{
			"value": ""
		}
	]
}
